{"version":3,"sources":["webpack:///./src/views/frontData/Products.vue","webpack:///./src/components/UserProductModal.vue","webpack:///./src/components/UserProductModal.vue?503a","webpack:///./src/views/frontData/Products.vue?a67b","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","style","active","isLoading","products","product","key","id","imageUrl","title","price","type","getProduct","disabled","lodingSatus","lodingItem","addCart","ref","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","src","imagesUrl","alt","category","description","content","origin_price","qty","min","$emit","props","data","status","modal","inject","mounted","this","$refs","keyboard","backdrop","methods","openModal","show","hideModal","hide","render","components","userProductModal","created","getProducts","url","cart","product_id","$http","post","then","res","success","alert","message","catch","err","console","log","get","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","result","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","symbol","valueOf","string","call","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-18278561.295227be.js","sourcesContent":["<template>\r\n      <Loading :active=\"isLoading\"></Loading>\r\n      <div class=\"container mt-5\">\r\n              <table class=\"table  table-hover align-middle\">\r\n                      <thead class=\"table-dark\">\r\n                              <tr>\r\n                                  <th>圖片</th>\r\n                                  <th>商品名稱</th>\r\n                                  <th>價格</th>\r\n                                  <th></th>\r\n                              </tr>\r\n                     </thead>\r\n                      <tbody v-for=\"product in products\" :key=\"product.id\">\r\n                     <!-- 取得產品列表 並渲染畫面 -->\r\n                       <tr>\r\n                          <td style=\"width: 200px\">\r\n                            <div style=\"height: 100px; background-size: cover; background-position: center\"\r\n                                 :style=\"{ backgroundImage: `url(${product.imageUrl})`}\"></div>\r\n                          </td>\r\n                          <td>{{product.title}}</td>\r\n                          <td>\r\n                              <div class=\"h5\"> ${{product.price}}元</div>\r\n                          </td>\r\n                          <td>\r\n                             <div class=\"btn-group btn-group-sm\">\r\n                                 <button type=\"button\" class=\"btn btn-outline-secondary\"  @click=\"getProduct(product.id)\" :disabled=\"lodingSatus.lodingItem === product.id\">\r\n                                 <i class=\"fas fa-spinner fa-pulse \" v-if=\"lodingSatus.lodingItem === product.id\"></i>查看更多\r\n                                </button>\r\n                                 <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"addCart(product.id)\"  :disabled=\"lodingSatus.lodingItem === product.id\">\r\n                                   <i class=\"fas fa-spinner fa-pulse\"  v-if=\"lodingSatus.lodingItem === product.id\"></i>加入購物車\r\n                                 </button>\r\n                              </div>\r\n                           </td>\r\n                       </tr>\r\n                   </tbody>\r\n              </table>\r\n               <user-product-modal  ref=\"userProductModal\" :product=\"product\" @add-to-cart=\"addCart\"></user-product-modal>\r\n      </div>\r\n</template>\r\n\r\n<script>\r\nimport userProductModal from '@/components/UserProductModal.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      // 載入讀取效果\r\n      lodingSatus: {\r\n        lodingItem: ''\r\n      },\r\n      isLoading: false,\r\n      product: {}\r\n    }\r\n  },\r\n  // 區域註冊 UserProductModal.vue\r\n  components: {\r\n    userProductModal\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  },\r\n  methods: {\r\n    // 加入購物車\r\n    addCart (id, qty = 1) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.lodingSatus.lodingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.$http.post(url, { data: cart })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            alert(res.data.message)\r\n            this.lodingSatus.lodingItem = ''\r\n            this.$refs.userProductModal.hideModal()\r\n            this.isLoading = false\r\n          } else {\r\n            alert(res.data.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    // 取得產品列表\r\n    getProducts () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/products`\r\n      // 調用Vue axios方法 this.$http\r\n      this.$http.get(url)\r\n        .then(res => {\r\n          // console.log(res)\r\n          if (res.data.success) {\r\n            this.products = res.data.products\r\n            this.isLoading = false\r\n          } else {\r\n            alert(res.data.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    // 取得單一產品\r\n    getProduct (id) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/product/${id}`\r\n      // 點擊取得單一產品 取得 id 儲存至 lodingItem\r\n      this.lodingSatus.lodingItem = id\r\n      this.$http.get(url)\r\n        .then(res => {\r\n          // console.log(res)\r\n          if (res.data.success) {\r\n            // 解除 關閉讀取效果\r\n            this.lodingSatus.lodingItem = ''\r\n            this.product = res.data.product\r\n            this.isLoading = false\r\n            this.$refs.userProductModal.openModal()\r\n          } else {\r\n            alert(res.data.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n     <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n       <div class=\"modal-content border-0\">\r\n         <div class=\"modal-header bg-dark text-white\">\r\n           <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n             <span>{{ product.title }}</span>\r\n           </h5>\r\n           <button type=\"button\" class=\"btn-close\"\r\n                   data-bs-dismiss=\"modal\" aria-label=\"close\"></button>\r\n         </div>\r\n         <div class=\"modal-body\">\r\n           <div class=\"row\">\r\n             <div class=\"col-sm-6\">\r\n               <img class=\"img-fluid\" :src=\"product.imagesUrl\" alt=\"\">\r\n             </div>\r\n             <div class=\"col-sm-6\">\r\n               <span class=\"badge bg-primary rounded-pill\">{{ product.category }}</span>\r\n               <p>商品描述：{{ product.description }}</p>\r\n               <p>商品內容：{{ product.content }}</p>\r\n               <div class=\"h5\">{{ product.origin_price }} 元</div>\r\n               <div>\r\n                 <div class=\"input-group\">\r\n                   <input type=\"number\" class=\"form-control\"\r\n                         v-model.number=\"qty\" min=\"1\">\r\n                   <button type=\"button\" class=\"btn btn-primary\"\r\n                           @click=\"$emit('add-to-cart', product.id, qty)\">加入購物車</button>\r\n                 </div>\r\n               </div>\r\n             </div>\r\n             <!-- col-sm-6 end -->\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: ['product'],\r\n  data () {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      qty: 1\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  mounted () {\r\n    // 把 modal 實體化\r\n    this.modal = new Modal(this.$refs.modal, {\r\n      keyboard: false,\r\n      backdrop: 'static'\r\n    })\r\n  },\r\n  methods: {\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    hideModal () {\r\n      this.modal.hide()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserProductModal.vue?vue&type=template&id=5ea2c08a\"\nimport script from \"./UserProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=25c70c40\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}